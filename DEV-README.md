## Основной скрипт Modify-DnsTxtRecord.ps1
[TODO] Переименуй скрипт

Вызывается так:
```bash
# pwsh ./Modify-DnsTxtRecord.ps1 <FQDN-имя> <SSH-порт>
pwsh ./Modify-DnsTxtRecord.ps1 vpn1.domain.com 22
```

Что делает скрипт:
1.

!!! Сюда нужно добавить проверку на уже настроенный хост. Если он настроен, не перенастраивать. !!!

## Побочные скрипты 

### Инициализация нового устройства Initial-MT-Setup.ps1

Что делает скрипт:
1. Генерирует рандомный пароль для пользователя (по умолчанию, certbot) для беспарольного управления микротиком.
2. Копирует публичный ключ (по умолчанию, /opt/letsencrypt-routeros/id_rsa.pub) на микротик.
3. Создаёт пользователя (из пункта 1) на микротике и импортируем ему ключ (из пункта 2).

У скрипта есть ряд параметров:

| Параметр (* - обязательный)   | Описание                                      	        | Значение по умолчанию                 |
|-------------------------------|-----------------------------------------------------------|---------------------------------------|
| SshUser*                      | Имя пользователя для подключения к устройству 	        | Нет                                   |
| SshHost*                      | Адрес устройства                              	        | Нет                                   |
| SshPort*                      | Порт для подключения к устройству             	        | 22                                    |
| MtCertBotUser                 | Имя пользователя, который будет создан на устройстве	    | certbot                               |
| SshKeyPath                    | Публичный ключ, который будет использован для подключения	| /opt/letsencrypt-routeros/id_rsa.pub  |
| TempConfigFile                | Локальный путь к временному конфигу для устройства    	| /tmp/certbot_initial_config.rsc       |

Вызывается так:
```bash
# Если необходимо использовать функцию внутри другого кода, то нужно "импортировать" файл через dot-нотацию
. ./Initial-MT-Setup.ps1
Set-CertbotInitialSetup -SshUser admin_user -SshHost vpn1.domain.com -SshPort 2222
```

### Get-TxtRecord.ps1

Что делает скрипт:
1. Получает текст, которую certbot ожидает увидеть на DNS-сервере у ТХТ-записи _acme-challenge.vpn1.domain.com.
2. Сохраняет этот текст в файл, чтобы основной скрипт мог использовать его в будущем для обновления информации на DNS-сервере

### Get-CertsExpire.py

Что делает скрипт:
Проходит по всем подпапкам в /etc/letsencrypt/live, смотрит ранее выданные сертификаты и проверяет дату их истечения

Вызывается так:
```bash
python ./Get-CertsExpire.py
```

[TODO]
Сделай возможность проверять отдельный сертификат и запускать главный скрипт для обновления сертификата. Добавь задачу в планировщик.